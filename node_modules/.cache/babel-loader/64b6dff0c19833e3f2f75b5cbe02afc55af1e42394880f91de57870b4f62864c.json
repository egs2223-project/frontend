{"ast":null,"code":"var _jsxFileName = \"C:\\\\EGS_Project\\\\frontend\\\\src\\\\pages\\\\NewAppointment.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Context } from '../App';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoadDoctors(state, set_state) {\n  let specialties = ``;\n  for (let specialty of state.selected_specialties) {\n    specialties += `&specialties=${specialty}`;\n  }\n  fetch(`https://localhost:7000/v1/doctors?limit=50&offset=0${specialties}`, {\n    credentials: 'include',\n    method: \"GET\",\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(response => {\n    if (response.status === 200) {\n      response.json().then(d => {\n        set_state({\n          ...state,\n          loading_doctors: false,\n          error: false,\n          doctors: d\n        });\n      });\n    } else {\n      set_state({\n        ...state,\n        loading_doctors: false,\n        error: true\n      });\n    }\n  });\n}\n_c = LoadDoctors;\nfunction LoadDoctorAppointments(state, set_state) {\n  var now = `2022-04-03T23:20:27.890Z`; //change to current time\n\n  if (state.selected_doctor == null) {\n    set_state({\n      ...state,\n      selected_doctor_apps: []\n    });\n    return;\n  }\n  fetch(`https://localhost:7000/v1/appointments?limit=50&offset=0&from=${now}&doctor_id=${state.selected_doctor}`, {\n    credentials: 'include',\n    method: \"GET\",\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(response => {\n    if (response.status === 200) {\n      response.json().then(a => {\n        set_state({\n          ...state,\n          selected_doctor_apps: a,\n          loading_selected_doctor_apps: false\n        });\n      });\n    } else {\n      set_state({\n        ...state,\n        error: true,\n        loading_selected_doctor_apps: false\n      });\n    }\n  });\n}\n_c2 = LoadDoctorAppointments;\nfunction PostAppointment(appointmentBody, navigate) {\n  console.log(JSON.stringify(appointmentBody));\n  fetch(\"https://localhost:7000/v1/appointments/\", {\n    credentials: 'include',\n    method: \"POST\",\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(appointmentBody)\n  }).then(response => {\n    console.log(response.status);\n    if (response.status === 201) {\n      alert(\"Success!\");\n      navigate(\"/appointments\");\n    } else if (response.status === 403) {\n      alert(\"Forbidden\");\n    } else if (response.status === 404) {\n      alert(\"Doctor not found\");\n    } else if (response.status === 409) {\n      alert(\"The new appointment conflicts with an existing one\");\n    } else {\n      alert(`There was an unexpected problem. You should debug this.`);\n    }\n  });\n}\n_c3 = PostAppointment;\nfunction NewAppointment() {\n  _s();\n  const {\n    ctx,\n    set_ctx\n  } = React.useContext(Context);\n  const [state, set_state] = React.useState({\n    loading_doctors: true,\n    error: false,\n    selected_doctor: null,\n    selected_doctor_specialties: [],\n    doctors: [],\n    selected_specialties: [],\n    app_specialty: null,\n    selected_doctor_apps: [],\n    loading_selected_doctor_apps: false\n  });\n  const navigate = useNavigate();\n  const [appointment, set_appointment] = React.useState({\n    id: '00000000-0000-0000-0000-000000000000',\n    datetime: '',\n    ical_data: null,\n    status: \"Scheduled\",\n    expected_duration: \"00:20:00\",\n    doctor_id: null,\n    patient_id: ctx.user_data == null ? null : ctx.user_data.id,\n    reason: null,\n    summary: null,\n    session_url: null,\n    specialty: null\n  });\n  React.useEffect(() => {\n    if (ctx.status !== \"authenticated\") {\n      navigate(\"/\");\n    }\n  }, []);\n  if (ctx.status !== \"authenticated\") {\n    return \"...\";\n  }\n  const SpecialtySelector = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Select the specialt(y/ies) you want\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        class: \"form-select form-select-lg mb-3\",\n        multiple: true,\n        \"aria-label\": \".form-select-lg example\",\n        onChange: handleSpecialtiesInputChange,\n        name: \"selected_specialties\",\n        value: state.selected_specialties,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          selected: true,\n          children: \"Specialties\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Allergiology\",\n          children: \"Allergiology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Immunology\",\n          children: \"Immunology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Anesthesiology\",\n          children: \"Anesthesiology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Dermathology\",\n          children: \"Dermathology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"DiagnosticRadiology\",\n          children: \"Diagnostic Radiology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"EmergencyMedicine\",\n          children: \"Emergency Medicine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"InternalMedicine\",\n          children: \"Internal Medicine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"MedicalGenetics\",\n          children: \"Medical Genetics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Neurology\",\n          children: \"Neurology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"NuclearMedicine\",\n          children: \"Nuclear Medicine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Obstetrics\",\n          children: \"Obstetrics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Gynecology\",\n          children: \"Gynecology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Ophthalnology\",\n          children: \"Ophthalnology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Pathology\",\n          children: \"Pathology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Pediatrics\",\n          children: \"Pediatrics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"PhysicalMedicine\",\n          children: \"Physical Medicine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"PreventiveMedicine\",\n          children: \"Preventive Medicine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Psychiatry\",\n          children: \"Psychiatry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"RadiationOncology\",\n          children: \"Radiation Oncology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Surgery\",\n          children: \"Surgery\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Urology\",\n          children: \"Urology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this);\n  };\n  const handleSpecialtiesInputChange = event => {\n    const target = event.target;\n    const name = target.name;\n    let value = Array.from(target.selectedOptions, option => option.value);\n    if (value.includes(\"Specialties\")) value = value.filter(i => {\n      return i !== \"Specialties\";\n    });\n    set_state({\n      ...state,\n      [name]: value,\n      loading_doctors: true\n    });\n  };\n  const Doctor = props => {\n    if (props.data.state.selected_doctor === props.data.d.id) {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        id: props.data.d.id,\n        class: \"list-group-item active\",\n        onClick: handleSelectDoctor,\n        children: [\"Dr. \", props.data.d.name, \" - \", props.data.d.specialties.toString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 20\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      id: props.data.d.id,\n      class: \"list-group-item\",\n      onClick: handleSelectDoctor,\n      children: [\"Dr. \", props.data.d.name, \" - \", props.data.d.specialties.toString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 16\n    }, this);\n  };\n  const Appointment = props => {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      id: props.data.d.id,\n      class: \"list-group-item\",\n      children: props.data.d.datetime\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 16\n    }, this);\n  };\n  const Specialty = props => {\n    if (props.data.state.app_specialty === props.data.s) {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        id: props.data.s,\n        class: \"list-group-item active\",\n        onClick: handleSelectAppSpecialty,\n        children: props.data.s\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 20\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      id: props.data.s,\n      class: \"list-group-item\",\n      onClick: handleSelectAppSpecialty,\n      children: props.data.s\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 16\n    }, this);\n  };\n  const handleSelectAppSpecialty = event => {\n    console.log(event);\n    set_state({\n      ...state,\n      app_specialty: event.target.id\n    });\n  };\n  const handleSelectDoctor = event => {\n    console.log(event);\n    const new_selected_doctor = event.target.id;\n    const specialties = new_selected_doctor == null ? [] : state.doctors.filter(d => {\n      return d.id === new_selected_doctor;\n    })[0].specialties;\n    console.log(specialties);\n    set_state({\n      ...state,\n      selected_doctor: new_selected_doctor,\n      loading_selected_doctor_apps: true,\n      selected_doctor_specialties: specialties\n    });\n  };\n  const handleInputChange = event => {\n    console.log(event);\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    set_appointment({\n      ...appointment,\n      [name]: value\n    });\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (state.selected_doctor == null) {\n      alert(\"Please select a doctor\");\n      return;\n    }\n    if (state.app_specialty == null) {\n      alert(\"Please select a specialty\");\n      return;\n    }\n    const appointmentBody = {\n      ...appointment,\n      doctor_id: state.selected_doctor,\n      specialty: state.app_specialty\n    };\n    PostAppointment(appointmentBody, navigate);\n  };\n  if (state.loading_doctors === true) {\n    LoadDoctors(state, set_state);\n  }\n  if (state.loading_selected_doctor_apps === true) {\n    LoadDoctorAppointments(state, set_state);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(SpecialtySelector, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Doctors: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      class: \"list-group\",\n      children: state.doctors.map(d => /*#__PURE__*/_jsxDEV(Doctor, {\n        data: {\n          d: d,\n          state: state\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 43\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Already Scheduled Appointments: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      class: \"list-group\",\n      children: state.selected_doctor_apps.map(d => /*#__PURE__*/_jsxDEV(Appointment, {\n        data: {\n          d: d,\n          state: state\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 56\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Appointment Specialty: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      class: \"list-group\",\n      children: state.selected_doctor_specialties.map(s => /*#__PURE__*/_jsxDEV(Specialty, {\n        data: {\n          s: s,\n          state: state\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 63\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"datetime\",\n          class: \"form-label\",\n          children: \"Date Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"datetime-local\",\n          class: \"form-control\",\n          id: \"datetime\",\n          value: appointment.datetime,\n          name: \"datetime\",\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"name\",\n          class: \"form-label\",\n          children: \"Appointment Reason\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control\",\n          id: \"name\",\n          name: \"reason\",\n          value: state.name,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-primary\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 9\n  }, this);\n}\n_s(NewAppointment, \"6/HJX5ls86Vg3jF8DZEOf1KpKek=\", false, function () {\n  return [useNavigate];\n});\n_c4 = NewAppointment;\nexport default NewAppointment;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"LoadDoctors\");\n$RefreshReg$(_c2, \"LoadDoctorAppointments\");\n$RefreshReg$(_c3, \"PostAppointment\");\n$RefreshReg$(_c4, \"NewAppointment\");","map":{"version":3,"names":["React","Context","useNavigate","jsxDEV","_jsxDEV","LoadDoctors","state","set_state","specialties","specialty","selected_specialties","fetch","credentials","method","mode","headers","then","response","status","json","d","loading_doctors","error","doctors","_c","LoadDoctorAppointments","now","selected_doctor","selected_doctor_apps","a","loading_selected_doctor_apps","_c2","PostAppointment","appointmentBody","navigate","console","log","JSON","stringify","body","alert","_c3","NewAppointment","_s","ctx","set_ctx","useContext","useState","selected_doctor_specialties","app_specialty","appointment","set_appointment","id","datetime","ical_data","expected_duration","doctor_id","patient_id","user_data","reason","summary","session_url","useEffect","SpecialtySelector","children","fileName","_jsxFileName","lineNumber","columnNumber","class","multiple","onChange","handleSpecialtiesInputChange","name","value","selected","event","target","Array","from","selectedOptions","option","includes","filter","i","Doctor","props","data","onClick","handleSelectDoctor","toString","Appointment","Specialty","s","handleSelectAppSpecialty","new_selected_doctor","handleInputChange","type","checked","handleSubmit","preventDefault","map","onSubmit","for","_c4","$RefreshReg$"],"sources":["C:/EGS_Project/frontend/src/pages/NewAppointment.js"],"sourcesContent":["import React from 'react';\r\nimport { Context } from '../App';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction LoadDoctors(state, set_state) {\r\n    let specialties = ``;\r\n    for (let specialty of state.selected_specialties) {\r\n        specialties += `&specialties=${specialty}`;\r\n    }\r\n\r\n    fetch(`https://localhost:7000/v1/doctors?limit=50&offset=0${specialties}`, {\r\n        credentials: 'include',\r\n        method: \"GET\",\r\n        mode: \"cors\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n    })\r\n        .then(response => {\r\n            if (response.status === 200) {\r\n                response.json().then(d => {\r\n                    set_state({ ...state, loading_doctors: false, error: false, doctors: d });\r\n                });\r\n            }\r\n            else {\r\n                set_state({ ...state, loading_doctors: false, error: true });\r\n            }\r\n        });\r\n}\r\n\r\nfunction LoadDoctorAppointments(state, set_state) {\r\n    var now = `2022-04-03T23:20:27.890Z`;  //change to current time\r\n\r\n    if (state.selected_doctor == null) {\r\n        set_state({ ...state, selected_doctor_apps: [] });\r\n        return;\r\n    }\r\n\r\n    fetch(`https://localhost:7000/v1/appointments?limit=50&offset=0&from=${now}&doctor_id=${state.selected_doctor}`, {\r\n        credentials: 'include',\r\n        method: \"GET\",\r\n        mode: \"cors\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n    })\r\n        .then(response => {\r\n            if (response.status === 200) {\r\n                response.json().then(a => {\r\n                    set_state({ ...state, selected_doctor_apps: a, loading_selected_doctor_apps: false });\r\n                });\r\n            }\r\n            else {\r\n                set_state({ ...state, error: true, loading_selected_doctor_apps: false });\r\n            }\r\n        });\r\n}\r\n\r\nfunction PostAppointment(appointmentBody, navigate) {\r\n    console.log(JSON.stringify(appointmentBody));\r\n\r\n    fetch(\"https://localhost:7000/v1/appointments/\", {\r\n        credentials: 'include',\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(appointmentBody)\r\n    }).then(response => {\r\n        console.log(response.status);\r\n        if (response.status === 201) {\r\n            alert(\"Success!\");\r\n            navigate(\"/appointments\");\r\n        }\r\n        else if (response.status === 403) {\r\n            alert(\"Forbidden\");\r\n        } else if (response.status === 404) {\r\n            alert(\"Doctor not found\");\r\n        } else if (response.status === 409) {\r\n            alert(\"The new appointment conflicts with an existing one\");\r\n        } else {\r\n            alert(`There was an unexpected problem. You should debug this.`);\r\n        }\r\n    });\r\n}\r\n\r\nfunction NewAppointment() {\r\n    const { ctx, set_ctx } = React.useContext(Context);\r\n    const [state, set_state] = React.useState(\r\n        {\r\n            loading_doctors: true,\r\n            error: false,\r\n            selected_doctor: null,\r\n            selected_doctor_specialties: [],\r\n            doctors: [],\r\n            selected_specialties: [],\r\n            app_specialty: null,\r\n            selected_doctor_apps: [],\r\n            loading_selected_doctor_apps: false\r\n        });\r\n    const navigate = useNavigate();\r\n\r\n    const [appointment, set_appointment] = React.useState(\r\n        {\r\n            id: '00000000-0000-0000-0000-000000000000',\r\n            datetime: '',\r\n            ical_data: null,\r\n            status: \"Scheduled\",\r\n            expected_duration: \"00:20:00\",\r\n            doctor_id: null,\r\n            patient_id: ctx.user_data == null ? null : ctx.user_data.id,\r\n            reason: null,\r\n            summary: null,\r\n            session_url: null,\r\n            specialty: null,\r\n        });\r\n\r\n    React.useEffect(() => {\r\n        if (ctx.status !== \"authenticated\") {\r\n            navigate(\"/\");\r\n        }\r\n    }, []);\r\n\r\n    if (ctx.status !== \"authenticated\") {\r\n        return \"...\";\r\n    }\r\n\r\n    const SpecialtySelector = () => {\r\n        return (\r\n            <div>\r\n                <h1>Select the specialt(y/ies) you want</h1>\r\n                <select class=\"form-select form-select-lg mb-3\" multiple aria-label=\".form-select-lg example\"\r\n                    onChange={handleSpecialtiesInputChange} name=\"selected_specialties\" value={state.selected_specialties}>\r\n                    <option selected>Specialties</option>\r\n                    <option value=\"Allergiology\">Allergiology</option>\r\n                    <option value=\"Immunology\">Immunology</option>\r\n                    <option value=\"Anesthesiology\">Anesthesiology</option>\r\n                    <option value=\"Dermathology\">Dermathology</option>\r\n                    <option value=\"DiagnosticRadiology\">Diagnostic Radiology</option>\r\n                    <option value=\"EmergencyMedicine\">Emergency Medicine</option>\r\n                    <option value=\"InternalMedicine\">Internal Medicine</option>\r\n                    <option value=\"MedicalGenetics\">Medical Genetics</option>\r\n                    <option value=\"Neurology\">Neurology</option>\r\n                    <option value=\"NuclearMedicine\">Nuclear Medicine</option>\r\n                    <option value=\"Obstetrics\">Obstetrics</option>\r\n                    <option value=\"Gynecology\">Gynecology</option>\r\n                    <option value=\"Ophthalnology\">Ophthalnology</option>\r\n                    <option value=\"Pathology\">Pathology</option>\r\n                    <option value=\"Pediatrics\">Pediatrics</option>\r\n                    <option value=\"PhysicalMedicine\">Physical Medicine</option>\r\n                    <option value=\"PreventiveMedicine\">Preventive Medicine</option>\r\n                    <option value=\"Psychiatry\">Psychiatry</option>\r\n                    <option value=\"RadiationOncology\">Radiation Oncology</option>\r\n                    <option value=\"Surgery\">Surgery</option>\r\n                    <option value=\"Urology\">Urology</option>\r\n                </select>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const handleSpecialtiesInputChange = (event) => {\r\n        const target = event.target;\r\n        const name = target.name;\r\n        let value = Array.from(target.selectedOptions, option => option.value);\r\n        if (value.includes(\"Specialties\")) value = value.filter((i) => { return i !== \"Specialties\" });\r\n        set_state({\r\n            ...state,\r\n            [name]: value,\r\n            loading_doctors: true\r\n        });\r\n    }\r\n\r\n    const Doctor = (props) => {\r\n        if (props.data.state.selected_doctor === props.data.d.id) {\r\n            return <li id={props.data.d.id} class=\"list-group-item active\" onClick={handleSelectDoctor}>Dr. {props.data.d.name} - {props.data.d.specialties.toString()}</li>;\r\n        }\r\n        return <li id={props.data.d.id} class=\"list-group-item\" onClick={handleSelectDoctor}>Dr. {props.data.d.name} - {props.data.d.specialties.toString()}</li>;\r\n    }\r\n\r\n    const Appointment = (props) => {\r\n        return <li id={props.data.d.id} class=\"list-group-item\">{props.data.d.datetime}</li>;\r\n    }\r\n\r\n    const Specialty = (props) => {\r\n        if (props.data.state.app_specialty === props.data.s) {\r\n            return <li id={props.data.s} class=\"list-group-item active\" onClick={handleSelectAppSpecialty}>{props.data.s}</li>;\r\n        }\r\n        return <li id={props.data.s} class=\"list-group-item\" onClick={handleSelectAppSpecialty}>{props.data.s}</li>;\r\n    }\r\n\r\n    const handleSelectAppSpecialty = (event) => {\r\n        console.log(event);\r\n\r\n        set_state({ ...state, app_specialty: event.target.id });\r\n    }\r\n\r\n    const handleSelectDoctor = (event) => {\r\n        console.log(event);\r\n\r\n        const new_selected_doctor = event.target.id;\r\n\r\n        const specialties = new_selected_doctor == null ? [] : state.doctors.filter((d) => { return d.id === new_selected_doctor })[0].specialties;\r\n        console.log(specialties);\r\n        set_state({ ...state, selected_doctor: new_selected_doctor, loading_selected_doctor_apps: true, selected_doctor_specialties: specialties });\r\n    }\r\n\r\n    const handleInputChange = (event) => {\r\n        console.log(event);\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n        set_appointment({\r\n            ...appointment,\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        if (state.selected_doctor == null) {\r\n            alert(\"Please select a doctor\");\r\n            return;\r\n        }\r\n        if (state.app_specialty == null) {\r\n            alert(\"Please select a specialty\");\r\n            return;\r\n        }\r\n\r\n        const appointmentBody = {\r\n            ...appointment,\r\n            doctor_id: state.selected_doctor,\r\n            specialty: state.app_specialty\r\n        }\r\n\r\n        PostAppointment(appointmentBody, navigate);\r\n    }\r\n\r\n    if (state.loading_doctors === true) {\r\n        LoadDoctors(state, set_state);\r\n    }\r\n    if (state.loading_selected_doctor_apps === true) {\r\n        LoadDoctorAppointments(state, set_state);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <SpecialtySelector></SpecialtySelector>\r\n            <h1>Doctors: </h1>\r\n            <ul class=\"list-group\">\r\n                {state.doctors.map((d) => <Doctor data={{ d: d, state: state }} />)}\r\n            </ul>\r\n            <h1>Already Scheduled Appointments: </h1>\r\n            <ul class=\"list-group\">\r\n                {state.selected_doctor_apps.map((d) => <Appointment data={{ d: d, state: state }} />)}\r\n            </ul>\r\n            <h1>Appointment Specialty: </h1>\r\n            <ul class=\"list-group\">\r\n                {state.selected_doctor_specialties.map((s) => <Specialty data={{ s: s, state: state }} />)}\r\n            </ul>\r\n            <form onSubmit={handleSubmit}>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"datetime\" class=\"form-label\">Date Time</label>\r\n                    <input type=\"datetime-local\" class=\"form-control\" id=\"datetime\" value={appointment.datetime}\r\n                        name=\"datetime\" onChange={handleInputChange}></input>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"name\" class=\"form-label\">Appointment Reason</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"name\"\r\n                        name=\"reason\" value={state.name} onChange={handleInputChange}></input>\r\n                </div>\r\n                <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NewAppointment;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,QAAQ;AAChC,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,SAASC,WAAWA,CAACC,KAAK,EAAEC,SAAS,EAAE;EACnC,IAAIC,WAAW,GAAI,EAAC;EACpB,KAAK,IAAIC,SAAS,IAAIH,KAAK,CAACI,oBAAoB,EAAE;IAC9CF,WAAW,IAAK,gBAAeC,SAAU,EAAC;EAC9C;EAEAE,KAAK,CAAE,sDAAqDH,WAAY,EAAC,EAAE;IACvEI,WAAW,EAAE,SAAS;IACtBC,MAAM,EAAE,KAAK;IACbC,IAAI,EAAE,MAAM;IACZC,OAAO,EAAE;MACL,cAAc,EAAE;IACpB;EACJ,CAAC,CAAC,CACGC,IAAI,CAACC,QAAQ,IAAI;IACd,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MACzBD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAACI,CAAC,IAAI;QACtBb,SAAS,CAAC;UAAE,GAAGD,KAAK;UAAEe,eAAe,EAAE,KAAK;UAAEC,KAAK,EAAE,KAAK;UAAEC,OAAO,EAAEH;QAAE,CAAC,CAAC;MAC7E,CAAC,CAAC;IACN,CAAC,MACI;MACDb,SAAS,CAAC;QAAE,GAAGD,KAAK;QAAEe,eAAe,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;IAChE;EACJ,CAAC,CAAC;AACV;AAACE,EAAA,GAxBQnB,WAAW;AA0BpB,SAASoB,sBAAsBA,CAACnB,KAAK,EAAEC,SAAS,EAAE;EAC9C,IAAImB,GAAG,GAAI,0BAAyB,CAAC,CAAE;;EAEvC,IAAIpB,KAAK,CAACqB,eAAe,IAAI,IAAI,EAAE;IAC/BpB,SAAS,CAAC;MAAE,GAAGD,KAAK;MAAEsB,oBAAoB,EAAE;IAAG,CAAC,CAAC;IACjD;EACJ;EAEAjB,KAAK,CAAE,iEAAgEe,GAAI,cAAapB,KAAK,CAACqB,eAAgB,EAAC,EAAE;IAC7Gf,WAAW,EAAE,SAAS;IACtBC,MAAM,EAAE,KAAK;IACbC,IAAI,EAAE,MAAM;IACZC,OAAO,EAAE;MACL,cAAc,EAAE;IACpB;EACJ,CAAC,CAAC,CACGC,IAAI,CAACC,QAAQ,IAAI;IACd,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MACzBD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAACa,CAAC,IAAI;QACtBtB,SAAS,CAAC;UAAE,GAAGD,KAAK;UAAEsB,oBAAoB,EAAEC,CAAC;UAAEC,4BAA4B,EAAE;QAAM,CAAC,CAAC;MACzF,CAAC,CAAC;IACN,CAAC,MACI;MACDvB,SAAS,CAAC;QAAE,GAAGD,KAAK;QAAEgB,KAAK,EAAE,IAAI;QAAEQ,4BAA4B,EAAE;MAAM,CAAC,CAAC;IAC7E;EACJ,CAAC,CAAC;AACV;AAACC,GAAA,GA1BQN,sBAAsB;AA4B/B,SAASO,eAAeA,CAACC,eAAe,EAAEC,QAAQ,EAAE;EAChDC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACL,eAAe,CAAC,CAAC;EAE5CtB,KAAK,CAAC,yCAAyC,EAAE;IAC7CC,WAAW,EAAE,SAAS;IACtBC,MAAM,EAAE,MAAM;IACdC,IAAI,EAAE,MAAM;IACZC,OAAO,EAAE;MACL,cAAc,EAAE;IACpB,CAAC;IACDwB,IAAI,EAAEF,IAAI,CAACC,SAAS,CAACL,eAAe;EACxC,CAAC,CAAC,CAACjB,IAAI,CAACC,QAAQ,IAAI;IAChBkB,OAAO,CAACC,GAAG,CAACnB,QAAQ,CAACC,MAAM,CAAC;IAC5B,IAAID,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MACzBsB,KAAK,CAAC,UAAU,CAAC;MACjBN,QAAQ,CAAC,eAAe,CAAC;IAC7B,CAAC,MACI,IAAIjB,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAC9BsB,KAAK,CAAC,WAAW,CAAC;IACtB,CAAC,MAAM,IAAIvB,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAChCsB,KAAK,CAAC,kBAAkB,CAAC;IAC7B,CAAC,MAAM,IAAIvB,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAChCsB,KAAK,CAAC,oDAAoD,CAAC;IAC/D,CAAC,MAAM;MACHA,KAAK,CAAE,yDAAwD,CAAC;IACpE;EACJ,CAAC,CAAC;AACN;AAACC,GAAA,GA3BQT,eAAe;AA6BxB,SAASU,cAAcA,CAAA,EAAG;EAAAC,EAAA;EACtB,MAAM;IAAEC,GAAG;IAAEC;EAAQ,CAAC,GAAG7C,KAAK,CAAC8C,UAAU,CAAC7C,OAAO,CAAC;EAClD,MAAM,CAACK,KAAK,EAAEC,SAAS,CAAC,GAAGP,KAAK,CAAC+C,QAAQ,CACrC;IACI1B,eAAe,EAAE,IAAI;IACrBC,KAAK,EAAE,KAAK;IACZK,eAAe,EAAE,IAAI;IACrBqB,2BAA2B,EAAE,EAAE;IAC/BzB,OAAO,EAAE,EAAE;IACXb,oBAAoB,EAAE,EAAE;IACxBuC,aAAa,EAAE,IAAI;IACnBrB,oBAAoB,EAAE,EAAE;IACxBE,4BAA4B,EAAE;EAClC,CAAC,CAAC;EACN,MAAMI,QAAQ,GAAGhC,WAAW,EAAE;EAE9B,MAAM,CAACgD,WAAW,EAAEC,eAAe,CAAC,GAAGnD,KAAK,CAAC+C,QAAQ,CACjD;IACIK,EAAE,EAAE,sCAAsC;IAC1CC,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE,IAAI;IACfpC,MAAM,EAAE,WAAW;IACnBqC,iBAAiB,EAAE,UAAU;IAC7BC,SAAS,EAAE,IAAI;IACfC,UAAU,EAAEb,GAAG,CAACc,SAAS,IAAI,IAAI,GAAG,IAAI,GAAGd,GAAG,CAACc,SAAS,CAACN,EAAE;IAC3DO,MAAM,EAAE,IAAI;IACZC,OAAO,EAAE,IAAI;IACbC,WAAW,EAAE,IAAI;IACjBpD,SAAS,EAAE;EACf,CAAC,CAAC;EAENT,KAAK,CAAC8D,SAAS,CAAC,MAAM;IAClB,IAAIlB,GAAG,CAAC1B,MAAM,KAAK,eAAe,EAAE;MAChCgB,QAAQ,CAAC,GAAG,CAAC;IACjB;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIU,GAAG,CAAC1B,MAAM,KAAK,eAAe,EAAE;IAChC,OAAO,KAAK;EAChB;EAEA,MAAM6C,iBAAiB,GAAGA,CAAA,KAAM;IAC5B,oBACI3D,OAAA;MAAA4D,QAAA,gBACI5D,OAAA;QAAA4D,QAAA,EAAI;MAAmC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAK,eAC5ChE,OAAA;QAAQiE,KAAK,EAAC,iCAAiC;QAACC,QAAQ;QAAC,cAAW,yBAAyB;QACzFC,QAAQ,EAAEC,4BAA6B;QAACC,IAAI,EAAC,sBAAsB;QAACC,KAAK,EAAEpE,KAAK,CAACI,oBAAqB;QAAAsD,QAAA,gBACtG5D,OAAA;UAAQuE,QAAQ;UAAAX,QAAA,EAAC;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACrChE,OAAA;UAAQsE,KAAK,EAAC,cAAc;UAAAV,QAAA,EAAC;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAClDhE,OAAA;UAAQsE,KAAK,EAAC,YAAY;UAAAV,QAAA,EAAC;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAC9ChE,OAAA;UAAQsE,KAAK,EAAC,gBAAgB;UAAAV,QAAA,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACtDhE,OAAA;UAAQsE,KAAK,EAAC,cAAc;UAAAV,QAAA,EAAC;QAAY;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAClDhE,OAAA;UAAQsE,KAAK,EAAC,qBAAqB;UAAAV,QAAA,EAAC;QAAoB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACjEhE,OAAA;UAAQsE,KAAK,EAAC,mBAAmB;UAAAV,QAAA,EAAC;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAC7DhE,OAAA;UAAQsE,KAAK,EAAC,kBAAkB;UAAAV,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAC3DhE,OAAA;UAAQsE,KAAK,EAAC,iBAAiB;UAAAV,QAAA,EAAC;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACzDhE,OAAA;UAAQsE,KAAK,EAAC,WAAW;UAAAV,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAC5ChE,OAAA;UAAQsE,KAAK,EAAC,iBAAiB;UAAAV,QAAA,EAAC;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACzDhE,OAAA;UAAQsE,KAAK,EAAC,YAAY;UAAAV,QAAA,EAAC;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAC9ChE,OAAA;UAAQsE,KAAK,EAAC,YAAY;UAAAV,QAAA,EAAC;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAC9ChE,OAAA;UAAQsE,KAAK,EAAC,eAAe;UAAAV,QAAA,EAAC;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACpDhE,OAAA;UAAQsE,KAAK,EAAC,WAAW;UAAAV,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAC5ChE,OAAA;UAAQsE,KAAK,EAAC,YAAY;UAAAV,QAAA,EAAC;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAC9ChE,OAAA;UAAQsE,KAAK,EAAC,kBAAkB;UAAAV,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAC3DhE,OAAA;UAAQsE,KAAK,EAAC,oBAAoB;UAAAV,QAAA,EAAC;QAAmB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAC/DhE,OAAA;UAAQsE,KAAK,EAAC,YAAY;UAAAV,QAAA,EAAC;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAC9ChE,OAAA;UAAQsE,KAAK,EAAC,mBAAmB;UAAAV,QAAA,EAAC;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eAC7DhE,OAAA;UAAQsE,KAAK,EAAC,SAAS;UAAAV,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS,eACxChE,OAAA;UAAQsE,KAAK,EAAC,SAAS;UAAAV,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACnC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACP;EAEd,CAAC;EAED,MAAMI,4BAA4B,GAAII,KAAK,IAAK;IAC5C,MAAMC,MAAM,GAAGD,KAAK,CAACC,MAAM;IAC3B,MAAMJ,IAAI,GAAGI,MAAM,CAACJ,IAAI;IACxB,IAAIC,KAAK,GAAGI,KAAK,CAACC,IAAI,CAACF,MAAM,CAACG,eAAe,EAAEC,MAAM,IAAIA,MAAM,CAACP,KAAK,CAAC;IACtE,IAAIA,KAAK,CAACQ,QAAQ,CAAC,aAAa,CAAC,EAAER,KAAK,GAAGA,KAAK,CAACS,MAAM,CAAEC,CAAC,IAAK;MAAE,OAAOA,CAAC,KAAK,aAAa;IAAC,CAAC,CAAC;IAC9F7E,SAAS,CAAC;MACN,GAAGD,KAAK;MACR,CAACmE,IAAI,GAAGC,KAAK;MACbrD,eAAe,EAAE;IACrB,CAAC,CAAC;EACN,CAAC;EAED,MAAMgE,MAAM,GAAIC,KAAK,IAAK;IACtB,IAAIA,KAAK,CAACC,IAAI,CAACjF,KAAK,CAACqB,eAAe,KAAK2D,KAAK,CAACC,IAAI,CAACnE,CAAC,CAACgC,EAAE,EAAE;MACtD,oBAAOhD,OAAA;QAAIgD,EAAE,EAAEkC,KAAK,CAACC,IAAI,CAACnE,CAAC,CAACgC,EAAG;QAACiB,KAAK,EAAC,wBAAwB;QAACmB,OAAO,EAAEC,kBAAmB;QAAAzB,QAAA,GAAC,MAAI,EAACsB,KAAK,CAACC,IAAI,CAACnE,CAAC,CAACqD,IAAI,EAAC,KAAG,EAACa,KAAK,CAACC,IAAI,CAACnE,CAAC,CAACZ,WAAW,CAACkF,QAAQ,EAAE;MAAA;QAAAzB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAM;IACpK;IACA,oBAAOhE,OAAA;MAAIgD,EAAE,EAAEkC,KAAK,CAACC,IAAI,CAACnE,CAAC,CAACgC,EAAG;MAACiB,KAAK,EAAC,iBAAiB;MAACmB,OAAO,EAAEC,kBAAmB;MAAAzB,QAAA,GAAC,MAAI,EAACsB,KAAK,CAACC,IAAI,CAACnE,CAAC,CAACqD,IAAI,EAAC,KAAG,EAACa,KAAK,CAACC,IAAI,CAACnE,CAAC,CAACZ,WAAW,CAACkF,QAAQ,EAAE;IAAA;MAAAzB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAM;EAC7J,CAAC;EAED,MAAMuB,WAAW,GAAIL,KAAK,IAAK;IAC3B,oBAAOlF,OAAA;MAAIgD,EAAE,EAAEkC,KAAK,CAACC,IAAI,CAACnE,CAAC,CAACgC,EAAG;MAACiB,KAAK,EAAC,iBAAiB;MAAAL,QAAA,EAAEsB,KAAK,CAACC,IAAI,CAACnE,CAAC,CAACiC;IAAQ;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAM;EACxF,CAAC;EAED,MAAMwB,SAAS,GAAIN,KAAK,IAAK;IACzB,IAAIA,KAAK,CAACC,IAAI,CAACjF,KAAK,CAAC2C,aAAa,KAAKqC,KAAK,CAACC,IAAI,CAACM,CAAC,EAAE;MACjD,oBAAOzF,OAAA;QAAIgD,EAAE,EAAEkC,KAAK,CAACC,IAAI,CAACM,CAAE;QAACxB,KAAK,EAAC,wBAAwB;QAACmB,OAAO,EAAEM,wBAAyB;QAAA9B,QAAA,EAAEsB,KAAK,CAACC,IAAI,CAACM;MAAC;QAAA5B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAM;IACtH;IACA,oBAAOhE,OAAA;MAAIgD,EAAE,EAAEkC,KAAK,CAACC,IAAI,CAACM,CAAE;MAACxB,KAAK,EAAC,iBAAiB;MAACmB,OAAO,EAAEM,wBAAyB;MAAA9B,QAAA,EAAEsB,KAAK,CAACC,IAAI,CAACM;IAAC;MAAA5B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAM;EAC/G,CAAC;EAED,MAAM0B,wBAAwB,GAAIlB,KAAK,IAAK;IACxCzC,OAAO,CAACC,GAAG,CAACwC,KAAK,CAAC;IAElBrE,SAAS,CAAC;MAAE,GAAGD,KAAK;MAAE2C,aAAa,EAAE2B,KAAK,CAACC,MAAM,CAACzB;IAAG,CAAC,CAAC;EAC3D,CAAC;EAED,MAAMqC,kBAAkB,GAAIb,KAAK,IAAK;IAClCzC,OAAO,CAACC,GAAG,CAACwC,KAAK,CAAC;IAElB,MAAMmB,mBAAmB,GAAGnB,KAAK,CAACC,MAAM,CAACzB,EAAE;IAE3C,MAAM5C,WAAW,GAAGuF,mBAAmB,IAAI,IAAI,GAAG,EAAE,GAAGzF,KAAK,CAACiB,OAAO,CAAC4D,MAAM,CAAE/D,CAAC,IAAK;MAAE,OAAOA,CAAC,CAACgC,EAAE,KAAK2C,mBAAmB;IAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACvF,WAAW;IAC1I2B,OAAO,CAACC,GAAG,CAAC5B,WAAW,CAAC;IACxBD,SAAS,CAAC;MAAE,GAAGD,KAAK;MAAEqB,eAAe,EAAEoE,mBAAmB;MAAEjE,4BAA4B,EAAE,IAAI;MAAEkB,2BAA2B,EAAExC;IAAY,CAAC,CAAC;EAC/I,CAAC;EAED,MAAMwF,iBAAiB,GAAIpB,KAAK,IAAK;IACjCzC,OAAO,CAACC,GAAG,CAACwC,KAAK,CAAC;IAClB,MAAMC,MAAM,GAAGD,KAAK,CAACC,MAAM;IAC3B,MAAMH,KAAK,GAAGG,MAAM,CAACoB,IAAI,KAAK,UAAU,GAAGpB,MAAM,CAACqB,OAAO,GAAGrB,MAAM,CAACH,KAAK;IACxE,MAAMD,IAAI,GAAGI,MAAM,CAACJ,IAAI;IACxBtB,eAAe,CAAC;MACZ,GAAGD,WAAW;MACd,CAACuB,IAAI,GAAGC;IACZ,CAAC,CAAC;EACN,CAAC;EAED,MAAMyB,YAAY,GAAIvB,KAAK,IAAK;IAC5BA,KAAK,CAACwB,cAAc,EAAE;IAEtB,IAAI9F,KAAK,CAACqB,eAAe,IAAI,IAAI,EAAE;MAC/Ba,KAAK,CAAC,wBAAwB,CAAC;MAC/B;IACJ;IACA,IAAIlC,KAAK,CAAC2C,aAAa,IAAI,IAAI,EAAE;MAC7BT,KAAK,CAAC,2BAA2B,CAAC;MAClC;IACJ;IAEA,MAAMP,eAAe,GAAG;MACpB,GAAGiB,WAAW;MACdM,SAAS,EAAElD,KAAK,CAACqB,eAAe;MAChClB,SAAS,EAAEH,KAAK,CAAC2C;IACrB,CAAC;IAEDjB,eAAe,CAACC,eAAe,EAAEC,QAAQ,CAAC;EAC9C,CAAC;EAED,IAAI5B,KAAK,CAACe,eAAe,KAAK,IAAI,EAAE;IAChChB,WAAW,CAACC,KAAK,EAAEC,SAAS,CAAC;EACjC;EACA,IAAID,KAAK,CAACwB,4BAA4B,KAAK,IAAI,EAAE;IAC7CL,sBAAsB,CAACnB,KAAK,EAAEC,SAAS,CAAC;EAC5C;EAEA,oBACIH,OAAA;IAAA4D,QAAA,gBACI5D,OAAA,CAAC2D,iBAAiB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAqB,eACvChE,OAAA;MAAA4D,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,eAClBhE,OAAA;MAAIiE,KAAK,EAAC,YAAY;MAAAL,QAAA,EACjB1D,KAAK,CAACiB,OAAO,CAAC8E,GAAG,CAAEjF,CAAC,iBAAKhB,OAAA,CAACiF,MAAM;QAACE,IAAI,EAAE;UAAEnE,CAAC,EAAEA,CAAC;UAAEd,KAAK,EAAEA;QAAM;MAAE;QAAA2D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAClE,eACLhE,OAAA;MAAA4D,QAAA,EAAI;IAAgC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,eACzChE,OAAA;MAAIiE,KAAK,EAAC,YAAY;MAAAL,QAAA,EACjB1D,KAAK,CAACsB,oBAAoB,CAACyE,GAAG,CAAEjF,CAAC,iBAAKhB,OAAA,CAACuF,WAAW;QAACJ,IAAI,EAAE;UAAEnE,CAAC,EAAEA,CAAC;UAAEd,KAAK,EAAEA;QAAM;MAAE;QAAA2D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACpF,eACLhE,OAAA;MAAA4D,QAAA,EAAI;IAAuB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,eAChChE,OAAA;MAAIiE,KAAK,EAAC,YAAY;MAAAL,QAAA,EACjB1D,KAAK,CAAC0C,2BAA2B,CAACqD,GAAG,CAAER,CAAC,iBAAKzF,OAAA,CAACwF,SAAS;QAACL,IAAI,EAAE;UAAEM,CAAC,EAAEA,CAAC;UAAEvF,KAAK,EAAEA;QAAM;MAAE;QAAA2D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACzF,eACLhE,OAAA;MAAMkG,QAAQ,EAAEH,YAAa;MAAAnC,QAAA,gBACzB5D,OAAA;QAAKiE,KAAK,EAAC,MAAM;QAAAL,QAAA,gBACb5D,OAAA;UAAOmG,GAAG,EAAC,UAAU;UAAClC,KAAK,EAAC,YAAY;UAAAL,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAQ,eAC1DhE,OAAA;UAAO6F,IAAI,EAAC,gBAAgB;UAAC5B,KAAK,EAAC,cAAc;UAACjB,EAAE,EAAC,UAAU;UAACsB,KAAK,EAAExB,WAAW,CAACG,QAAS;UACxFoB,IAAI,EAAC,UAAU;UAACF,QAAQ,EAAEyB;QAAkB;UAAA/B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACvD,eACNhE,OAAA;QAAKiE,KAAK,EAAC,MAAM;QAAAL,QAAA,gBACb5D,OAAA;UAAOmG,GAAG,EAAC,MAAM;UAAClC,KAAK,EAAC,YAAY;UAAAL,QAAA,EAAC;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAQ,eAC/DhE,OAAA;UAAO6F,IAAI,EAAC,MAAM;UAAC5B,KAAK,EAAC,cAAc;UAACjB,EAAE,EAAC,MAAM;UAC7CqB,IAAI,EAAC,QAAQ;UAACC,KAAK,EAAEpE,KAAK,CAACmE,IAAK;UAACF,QAAQ,EAAEyB;QAAkB;UAAA/B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAS;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACxE,eACNhE,OAAA;QAAQ6F,IAAI,EAAC,QAAQ;QAAC5B,KAAK,EAAC,iBAAiB;QAAAL,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAS;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAC1D;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACL;AAEd;AAACzB,EAAA,CA7LQD,cAAc;EAAA,QAcFxC,WAAW;AAAA;AAAAsG,GAAA,GAdvB9D,cAAc;AA+LvB,eAAeA,cAAc;AAAC,IAAAlB,EAAA,EAAAO,GAAA,EAAAU,GAAA,EAAA+D,GAAA;AAAAC,YAAA,CAAAjF,EAAA;AAAAiF,YAAA,CAAA1E,GAAA;AAAA0E,YAAA,CAAAhE,GAAA;AAAAgE,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}